<template>
  <div class="container ub-box ub-col ub-ver">
	<scroll-view scroll-y style="height: 100vh" scroll-top="0">
	  <dl class="ub-box ub-col">
		<!-- è½®æ’­ -->
		<div class="z-bg-color-fff">
			<swiper class="swiper" indicator-dots="false" autoplay="false" interval="5000" duration="500">
			<block v-for="(item, indx) in imgUrls" :key="indx">
				<swiper-item>
				<image @click.stop="previewImage(indexImg,indx)" :src="item" class="z-width-100-percent" mode="widthFix"/>
				</swiper-item>
			</block>
			</swiper>
    	</div>
		<!-- è½®æ’­ -->
		<div>
			<span
          class="z-width-90-percent z-font-size-22 z-lineHeight-25 z-lines-2-overflow-hidden z-font-weight-bold z-padding-all-15-px"
          >{{ good.mainTitle }}</span>
		</div>
		<div class="ub-box z-padding-v-5-px z-padding-top-30-px" style="background:#fff">
        <div class="list-item ub-box ub-col ub-ver" :key="key" v-for="(idx, key) in houseStyle">
			<dd @click.stop="$openWin('/pages/error/main')" class="icon ub-box ub-ver iconfont" :class="key" >
				{{houseStyle[key]['title']}}
			</dd>
          	<span class="z-padding-v-8-px z-font-size-12 z-color-red">{{houseStyle[key]['value']}}</span> 
        </div>
      	</div>
		<dd class="z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-between">
			<p class="ub-box ub-ver">
				<i class="iconfont icon-xianshikejian z-font-size-18 z-margin-right-5-px" style="color:#06c1ae;"></i>
				<span class="z-font-size-12 z-color-888">è¿‡æœŸè‡ªåŠ¨é€€</span>
			</p>
			<p class="ub-box ub-ver">
				<i class="iconfont icon-yonghu z-font-size-16 z-margin-right-5-px" style="color:#888;"></i>
				<span class="z-font-size-12 z-color-888">å·²å”®420</span>
			</p>
		</dd>
		<dd class="z-margin-top-8-px z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-between" style="border-bottom: 1px solid #f5f5f5">
			<p class="ub-box ub-ver">
				<span class="z-font-size-13 z-color-888">
					<star></star>
				</span>
			</p>
			<p @click.stop="$openWin('/pages/comment/main')" class="ub-box ub-ver">
				<span class="z-font-size-13 z-color-888">{{commentsNum}}æ¡è¯„è®º</span>
				<i class="iconfont icon-xiayiyeqianjinchakangengduo z-font-size-12 z-color-888"></i>
			</p>
		</dd>
		<dd class="z-width-100-percent z-box-sizing-border z-bg-color-fff  ub-box ub-wrap" style="padding:12px 8px 8px 8px">
			<span v-for="(val, idx) in labels" :key="idx" class="label z-font-size-13" :class="{'tuijian': val.type==1, 'butuijian': val.type==0}">{{val.name}} {{val.num}}</span>
		</dd>
		<dd class="z-margin-top-8-px z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-between" style="border-bottom: 1px solid #f5f5f5">
			<p class="z-font-size-14 z-color-888">å•†å®¶ä¿¡æ¯</p>
		</dd>	
		<dd class="z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-between">
			<p class="ub-flex-1 ub-box ub-col" style="border-right: 1px solid #eee">
				<span class="z-font-size-14 z-lineHeight-24 z-color-333">{{sellerName}}</span>
				<span class="z-font-size-13 z-color-999">{{sellAdress}}</span>
			</p>
			<p @click.stop="clickCall()" class="ub-box ub-ver z-padding-h-8-px">
				<i class="iconfont icon-dianhua z-font-size-20" style="color:#06c1ae"></i>
			</p>
		</dd>
		<dd class="z-margin-top-8-px z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-between" style="border-bottom: 1px solid #f5f5f5">
			<p class="z-font-size-14 z-color-888">å¥—é¤</p>
		</dd>	
		<dd class="z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-between" style="border-bottom: 1px solid #f5f5f5">
			<p class="z-font-size-14 z-color-333">{{package.packageName}}</p>
			<p class="ub-box">
				<span class="z-font-size-14 z-color-333 z-margin-right-5-px">1ä½</span>
				<span class="z-font-size-14 z-color-333">Â¥{{normalPrice}}</span>
			</p>
		</dd>
		<dd class="z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-ver" style="border-bottom: 1px solid #f5f5f5">
			<p class="z-font-size-14 z-color-888">å¤‡æ³¨</p>
		</dd>
		<dd class="z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-col">
			<ul class="ub-box ub-col">
				<li v-for="(val, idx) in package.notes" :key="idx" class="z-font-size-14 z-color-333 z-box-sizing-border z-lineHeight-24">{{val}}</li>
			</ul>
		</dd>
		<dd class="z-margin-top-8-px z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-between" style="border-bottom: 1px solid #f5f5f5">
			<p class="z-font-size-14 z-color-888">è´­ä¹°é¡»çŸ¥</p>
		</dd>	
		<dd class="z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-col">
			<p class="z-font-size-14 z-lineHeight-30" style="color:#f90">æœ‰æ•ˆæœŸ</p>
			<p class="z-font-size-14 z-color-888">{{purchaseInfo.validityDate}}</p>
			<p class="z-font-size-14 z-lineHeight-30" style="color:#f90">ä¸å¯ç”¨æ—¥æœŸ</p>
			<p class="z-font-size-14 z-color-888">{{purchaseInfo.unavailableDate}}</p>
			<p class="z-font-size-14 z-lineHeight-30" style="color:#f90">ä½¿ç”¨è§„åˆ™</p>
			<ul class="ub-box ub-col" >
				<li v-for="(val, idx) in purchaseInfo.rules" :key="idx" class="z-font-size-14 z-color-888 z-box-sizing-border z-lineHeight-24">{{val}}</li>
			</ul>
		</dd>
		<dd class="z-margin-top-8-px z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-between" style="border-bottom: 1px solid #f5f5f5">
			<p class="ub-box ub-ver">
				<span class="z-font-size-14 z-color-888">
					<star></star>
				</span>
			</p>
			<p @click.stop="$openWin('/pages/comment/main')" class="ub-box ub-ver">
				<span class="z-font-size-14 z-color-888">{{commentsNum}}æ¡è¯„è®º</span>
				<i class="iconfont icon-xiayiyeqianjinchakangengduo z-font-size-12 z-color-888"></i>
			</p>
		</dd>
		<dd class="z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-between">
			<ul class="ub-flex-1 ub-box ub-col">
				<li v-for="(val, idx) in comments" :key="idx" class="z-border-bottom-1-eee">
					<comment :comment="val" :isShowLike="false"></comment>
				</li>
			</ul>
		</dd>
		<dd @click.stop="$openWin('/pages/comment/main')" class="z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-h-8-px ub-box ub-between">
			<p class="z-margin-bottom-8-px ub-box ub-ver">
				<span style="color:#06c1ae" class="z-font-size-14 z-color-888">æŸ¥çœ‹å…¨éƒ¨ç”¨æˆ·è¯„ä»·</span>
			</p>
			<p class="ub-box ub-ver">
				<i class="iconfont icon-xiayiyeqianjinchakangengduo z-font-size-13 z-color-888"></i>
			</p>
		</dd>
		<dd class="z-margin-top-8-px z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-between" style="border-bottom: 1px solid #f5f5f5">
			<p class="z-font-size-14 z-color-888">ç›¸å…³æ¨è</p>
		</dd>
		<dd class="z-width-100-percent z-box-sizing-border z-bg-color-fff z-padding-all-8-px ub-box ub-col">
        	<Recommend v-for="(val, idx) in 2" :key="idx" :isLast="idx==1" />
        </dd>								
	  </dl>
	</scroll-view>
  </div>
</template>
<script>
	import recommend from "../../components/recommend.vue"
	import star from "../../components/star.vue"
	import comment from "../../components/comment.vue"
	export default {
		components: {recommend, star, comment},
	  	data () {
			return {
				houseStyle: {
					'sales': {title: 'å”®ä»·', value: '227w'},
					'type': {title: 'æˆ¿å‹', value: '3å®¤2å…'},
					'area': {title: 'å»ºç­‘é¢ç§¯', value: '89mÂ²'}
				},
				good: {
					goodId: "100",
					img:"https://vrlab-image4.ljcdn.com/release/auto3dhd/ecf31689bd2da47364400b05266a8fe4/screenshot/1568539375_5/pc0_spchUSy6L.jpg?imageMogr2/quality/70/thumbnail/1024x",
					mainTitle: "æ»¡ä¸¤å¹´ç¨è´¹å°‘ï¼Œæˆ·å‹æ–¹æ­£ï¼Œå—å‘é‡‡å…‰é€šé£å¥½",
					subTitle: "2å®¤2å…/58.5mÂ²/è¥¿/æ¡‚å—åéƒ½",
					distance: "1.7",
					price: "121",
					sales: "20684"
				},
				imgUrls: [
					'https://images.pexels.com/photos/4846097/pexels-photo-4846097.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500',
					'https://images.pexels.com/photos/4138152/pexels-photo-4138152.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500',
					'https://images.pexels.com/photos/4846101/pexels-photo-4846101.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500',
					'https://images.pexels.com/photos/3935350/pexels-photo-3935350.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500'
				],
				indexImg: [
					'https://images.pexels.com/photos/4846097/pexels-photo-4846097.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500',
					'https://images.pexels.com/photos/4138152/pexels-photo-4138152.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500',
					'https://images.pexels.com/photos/4846101/pexels-photo-4846101.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500',
					'https://images.pexels.com/photos/3935350/pexels-photo-3935350.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500'
				],
				mainTitle: 'è¯¦æƒ…é¡µé¢',
				subTitle: 'å•äººè‡ªåŠ©æ™šé¤',
				nowPrice: '308',
				normalPrice: '398',
				labels: [
					{name: 'æµ·é²œæ£’', num: '202', type: '1'}, 
					{name: 'å›å¤´å®¢', num: '97', type: '1'},
					{name: 'å¹²å‡€å«ç”Ÿ', num: '40', type: '1'}, 
					{name: 'ä¸Šèœå¿«', num: '22', type: '1'},
					{name: 'ä¸æ¨è', num: '29', type: '0'},
					{name: 'å®¶åº­èšé¤', num: '13', type: '0'},
					{name: 'æœ‹å‹èšé¤', num: '9', type: '0'}, 
					{name: 'é—ºèœœèšä¼š', num: '5', type: '0'},
					{name: 'ç°åšç°å–', num: '4', type: '0'}, 
					{name: 'è¯·å®¢', num: '4', type: '0'},
				],
				sellerName: 'ç´¢è²ç‰¹å¤§é…’åº—é”¦å¨å›½é™…é¤å…è‡ªåŠ©é¤',
				sellAdress: 'è¥¿å±±åŒºç¯åŸå—è·¯777å·æ˜†æ˜ç´¢è²ç‰¹å¤§é…’åº—49æ¥¼',
				package: {
					packageName: 'å•äººè‡ªåŠ©æ™šé¤',
					notes: [
						'å•äººè‡ªåŠ©æ™šé¤ï¼šå‘¨ä¸€è‡³å‘¨å››18:00-21:00',
						'é¤å…é¢„å®šå…¥å£: https://tableplus.accorplus.com?vc=KweeZeenRestaurantAccorASE1187',
						'é”¦å¨å›½é™…é¤å…ä½äºæ˜†æ˜ç´¢è²ç‰¹å¤§é…’åº—49æ¥¼ï¼Œèƒ½å¤Ÿ360åº¦é¸Ÿç°æ˜¥åŸç¾æ™¯ã€‚',
						'æˆ‘ä»¬ä¸ºæ‚¨æä¾›400ç§ä»¥ä¸Šçš„é¤é£Ÿè‡ªåŠ©ï¼Œå…¨åœºé…’æ°´ç•…é¥®ï¼ŒåŒ…æ‹¬è‘¡è„é…’ã€å„è‰²è½¯é¥®åŠæœæ±ã€‚',
						'æ›´æœ‰ä¸“å±å®šåˆ¶åŒ–æœåŠ¡ï¼šå‡¡å‘¨å¹´çºªå¿µæ—¥/ç”Ÿæ—¥å½“å¤©åˆ°åº—å°±é¤çš„å®¢äººï¼Œå°†å…è´¹æä¾›è›‹ç³•ä¸€ä¸ª(æ­¤é¡¹ä»…é’ˆå¯¹æå‰è‡³å°‘ä¸€å¤©è¿›è¡Œé¢„çº¦å¹¶è¯´æ˜è¿‡æƒ…å†µçš„å®¢äººã€‚)',
						'æ¸©é¦¨æç¤ºï¼šå„¿ç«¥æŒ‰èº«é«˜æ”¶è´¹ï¼Œå…·ä½“æ˜¯0-110cmå„¿ç«¥å…è´¹ï¼›110cm-140cmå„¿ç«¥åŠä»·ï¼›140cmä»¥ä¸Šçš„å…¨ä»·ã€‚ å¦ï¼šå¦‚é‡ç‰¹æ®Šæ´»åŠ¨æ—¶ï¼Œéœ€æ ¹æ®åº—é‡Œå®é™…æƒ…å†µæŒ‰å®é™…ä»·æ ¼è¡¥å·®ä»·ã€‚',
					],
				},
				purchaseInfo: {
					validityDate: '2016.2.5 è‡³ 2018.6.14',
					unavailableDate: 'å‘¨äº”è‡³å‘¨æ—¥',
					rules: [
						'æå‰2å¤©é¢„è®¢ï¼Œå‘¨æœ«åŠèŠ‚å‡æ—¥æå‰2å¤©ä»¥ä¸Šé¢„è®¢ã€‚é¢„è®¢ç”µè¯ï¼š0871-68639888è½¬é”¦å¨å›½é™…é¤å…',
						'é”¦å¨å›½é™…é¤å…ä½äºæ˜†æ˜ç´¢è²ç‰¹å¤§é…’åº—49æ¥¼ï¼Œèƒ½å¤Ÿ360åº¦é¸Ÿç°æ˜¥åŸç¾æ™¯ã€‚',
						'æˆ‘ä»¬ä¸ºæ‚¨æä¾›400ç§ä»¥ä¸Šçš„é¤é£Ÿè‡ªåŠ©ï¼Œå…¨åœºé…’æ°´ç•…é¥®ï¼ŒåŒ…æ‹¬è‘¡è„é…’ã€å„è‰²è½¯é¥®åŠæœæ±ã€‚',
						'æ›´æœ‰ä¸“å±å®šåˆ¶åŒ–æœåŠ¡ï¼šå‡¡å‘¨å¹´çºªå¿µæ—¥/ç”Ÿæ—¥å½“å¤©åˆ°åº—å°±é¤çš„å®¢äººï¼Œå°†å…è´¹æä¾›è›‹ç³•ä¸€ä¸ª(æ­¤é¡¹ä»…é’ˆå¯¹æå‰è‡³å°‘ä¸€å¤©è¿›è¡Œé¢„çº¦å¹¶è¯´æ˜è¿‡æƒ…å†µçš„å®¢äººã€‚)',
						'éƒ¨åˆ†èœå“å› æ—¶ä»¤åŸå› æœ‰æ‰€ä¸åŒï¼Œè¯·ä»¥åº—å†…å½“æ—¥å®é™…ä¾›åº”ä¸ºå‡†',
						'æä¾›å…è´¹WiFi',
						'åœè½¦ä½æ”¶è´¹æ ‡å‡†ï¼šå…è´¹åœè½¦',
					]
				},
				commentsNum: 6,
				comments: [
					{
						header: 'https://img.meituan.net/avatar/855458f5c24ab19951f382ee99533ad981495.jpg@37w_37h_1e_1c',
						name: 'AqU753874254',
						time: '2018-05-07', 
						star: '4.0',
						say: 'èœå“å¾ˆå¤šï¼Œå¼ºçƒˆæ¨èé¾™è™¾ï¼Œè¶…çº§æ£’ï¼æ¯æ¬¡æ¥éƒ½åƒæ’‘ï¼å¾ˆæ»¡æ„çš„ä¸€å®¶è‡ªä¸»é¤ï¼ç”Ÿæ—¥å½“å¤©æµ·é€äº†è›‹ç³•ã€æœåŠ¡å‘˜â€œä»£ç‰ç³â€ç¾å¥³ï¼ŒæœåŠ¡æ€åº¦è¶…çº§å¥½ï¼Œçƒ­æƒ…ï¼Œäººä¹Ÿé•¿çš„ç¾ç¾å“’ï¼Œç»™å¥¹ä¸€ä¸ªèµï¼ ', 
						imgs: [
							'http://p0.meituan.net/shaitu/40b07a385f90bca838efa48a911bf491253024.jpg',
							'http://p0.meituan.net/shaitu/f6af829ff902040fb3225643b2775c1f111115.jpg',
							'http://p0.meituan.net/shaitu/e96132da9f76af022d6e521b2265ad70204304.jpg',
							'http://p0.meituan.net/shaitu/307d287b8d55f1d67dab188502a684ec158341.jpg',
						]
					},
					{
						header: 'https://p0.meituan.net/122.74/mmc/35ad1f9253761ea6ff822b5e659f234f3758.png',
						name: 'PPL546030823',
						time: '2018-05-06', 
						star: '4.5',
						say: 'ç¯å¢ƒå¾ˆå¥½ï¼Œæœ‰æ˜†æ˜çš„å¤•é˜³ç›¸ä¼´ï¼Œè°¢è°¢ç¾å¥³æœåŠ¡å‘˜ä»£ç‰ç³çš„çƒ­å¿±æœåŠ¡ï¼Œåº¦è¿‡å’Œæœ‹å‹æ‚ é—²çš„æ™šé¤æ—¶å…‰ğŸˆ #ç…é¹…è‚# ', 
						imgs: [
							'http://p0.meituan.net/400.0/shaitu/bc52b03f7f091d6711b8a1ec024a0e6a83730.jpg',
							'http://p0.meituan.net/400.0/shaitu/053247a6b8ede53824435f23196971d2124167.jpg',
							'http://p0.meituan.net/400.0/shaitu/0783b3f70ab47607593dcba906c7d570147806.jpg',

						]
					},
				],
			}
		},
		methods: {
			previewImage(imgs, curIdx){
				wx.previewImage({current: imgs[curIdx], urls: [imgs[curIdx]]})
			},
			clickCall() {
		      wx.showActionSheet({
		        itemList: ['å®¢æœç”µè¯ï¼š10107888'],
		        success(res) {
		          switch(res.tapIndex) {
		            case 0:
		              wx.makePhoneCall({phoneNumber: '10107888'})
		              break
		          }
		        }
		      })
		    },
		},
		onShow() {
    		wx.setNavigationBarTitle({title: this.mainTitle})
  		}
	}
</script>
<style scoped>
.swiper{
  height: 500rpx;
  width: 100%;
}
.swiper-item image {
  background-size: cover;
}
.list-item {
  width:33%;
  padding: 10px 13px 0 13px;
  box-sizing: border-box;
}
  .container{width:100%;height:100vh;background:#fff}
  .indexImg{height: 170px;position: relative;}
  .indexImg-bk{position: absolute;bottom: 0;left: 0;z-index: 1;width: 100%;height: 30%;background: rgba(0,0,0,.3);padding: 5px 0px}
  .buyBtn{background: #f90;padding: 8px 12px;border-radius:3px}
  .label{border-radius:3px;background: #fff;padding: 3px 5px;margin: 0 5px 5px 0}
  .tuijian{color: #f90;border:1px solid #f90;}
  .butuijian{color: #999;border:1px solid #ddd;}
</style>
